## 游标

> SQL语言是面向集合的，一条SQL语句可以产生或处理多条记录。而主语言是面向记录的，一组主变量一次只能放一条记录。通过引入游标，使用游标指针决定获取哪一条记录

### 定义游标

```sql
EXEC SQL DECLARE <游标名称> CURSOR FOR
	<SELECT语句>
```

### 打开游标

```sql
EXEC SQL OPEN <游标名称>
```

执行这句话后，会执行游标定义中的SELECT语句，同时游标处于活动状态。游标是一个指针，此时指向查询结果的**第一行之前**(没有指向具体记录)。

### 推进游标

```sql
EXEC SQL FETCH 游标名 INTO 变量表
```

该语句执行时，游标推进一行，并把游标指向的行（称为当前行）中的值取出，送到共享变量中。

### 关闭游标

```sql
EXEC SQL CLOSE 游标名
```

该语句关闭游标，让游标与查询记录不再关联。之后可以打开游标重新建立关联。