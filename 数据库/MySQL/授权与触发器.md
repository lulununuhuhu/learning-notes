## (授权)Grant

> 表示将某个对象的某种权限赋给某个用户

语法格式:

```sql
GRANT 权限类型/ All PRIVILEGES ON TABLE / DATABASE  / VIEW 表名/数据库名/视图名 
FROM 用户1,用户2,用户.../PUBLIC
[WITH GRANT OPTION];
```

`PUBLIC`:表示将权限给所有用户

`WITH GRANT OPTION`:表示被授予权限的用户也可以授权对应权限

不同的授权对象可以授权的类型不同，具体如下：

![image-20230411204347683](../../Java%E5%9F%BA%E7%A1%80/img/image-20230411204347683.png)

## 收回权限

> 将指定用户的权限收回

语法格式：

```sql
REVOKE 权限类型/ All PRIVILEGES ON TABLE / DATABASE  / VIEW 表名/数据库名/视图名 
FROM 用户1,用户2,用户.../PUBLIC
[RESTRICT | CASCADE];
```

`RESTRICT`:表示只收回语句中指定的用户的权限

`CASCADE`: 表示除了收回指定用户的权限外，还收回该用户赋予的其他用户的权限

## 触发器

> 用来在对数据表进行指定类型的触发事件后自动激活的一个对象，并在满足指定的触发条件后，执行指定的具体操作

创建触发器的语法格式如下：

```sql
CREATE TRIGGER 触发器名称 [BEFORE | AFTER]
		[DELETE | INSERT | UPDATE OF 列名] 		//触发事件
		ON 表名
		[REFERENCING <临时视图名>]
		[FOR EACH ROW | FOR EACH STATEMENT]
		[WHEN <触发条件>]   //当触发条件为true时,执行下面的触发动作
		BEGIN
			<触发动作>	//BEGIN...END中定义触发动作，当触发条件满足时，执行自定义的触发动作
		END [触发器名称]
```

`BEFORE/AFTER`:指定是在触发事件之前还是之后激活触发器

`DELETE/INSERT`:当一个DELETE/INSERT语句从表中删除/插入行时激活触发器

`UPDATE/UPDATE OF(列名)`:当UPDATE修改表中的值时，激活触发器。加OF列名是指定某一列的值被修改时激活触发器

`REFERENCING`:触发器运行过程中，系统会生成两个临时视图，分别存放更新前和更新后的值。对于行级触发器，为OLD ROW和NEW ROW；对于语句级触发器，为OLD TABLE和NEW TABLE。可以使用AS对视图重命名

`FOR EACH ROW`:表示为行级触发器，对每一个被影响的元组执行一次触发过程

`FOR EACH STATEMENT`:表示为语句级触发器，对整个事件只执行一次触发过程，为默认方式