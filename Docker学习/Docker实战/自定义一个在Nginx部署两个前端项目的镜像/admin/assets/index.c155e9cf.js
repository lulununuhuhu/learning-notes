import{d as B,b as x,r as g,e as v,E,f as C,g as D,h as b,c as p,i as s,w as o,j as _,t as V,o as i,k,l as I,m as q,_ as A,p as S,n as z,q as K}from"./index.96097f3e.js";const L=n=>(S("data-v-2db9891a"),n=n(),z(),n),N={class:"login"},R=L(()=>_("h3",{class:"title"},"\u535A\u5BA2\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",-1)),U={key:0},$={key:1},j={class:"el-login-footer"},M=B({__name:"index",setup(n){const{user:F}=x(),l=g(),a=g(!1),t=v({username:"test@qq.com",password:"123456"}),w=v({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,message:"\u5BC6\u7801\u4E0D\u80FD\u5C11\u4E8E6\u4F4D",trigger:"blur"}]}),c=async r=>{!r||await r.validate(e=>{if(e)a.value=!0,F.LogIn(t).then(()=>{q.push({path:"/"}),a.value=!1}).catch(()=>{a.value=!1});else return!1})};return(r,e)=>{const m=A,f=E,d=C,y=D,h=b;return i(),p("div",N,[s(h,{ref_key:"ruleFormRef",ref:l,model:t,rules:w,class:"login-form"},{default:o(()=>[R,s(d,{prop:"username"},{default:o(()=>[s(f,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=u=>t.username=u),type:"text",size:"large",placeholder:"\u8D26\u53F7"},{prefix:o(()=>[s(m,{"icon-class":"user"})]),_:1},8,["modelValue"])]),_:1}),s(d,{prop:"password"},{default:o(()=>[s(f,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=u=>t.password=u),type:"password","show-password":"",size:"large",placeholder:"\u5BC6\u7801",onKeyup:e[2]||(e[2]=k(u=>c(l.value),["enter"]))},{prefix:o(()=>[s(m,{"icon-class":"password"})]),_:1},8,["modelValue"])]),_:1}),s(d,null,{default:o(()=>[s(y,{loading:a.value,type:"primary",onClick:e[3]||(e[3]=I(u=>c(l.value),["prevent"])),style:{width:"100%"}},{default:o(()=>[a.value?(i(),p("span",$,"\u767B \u5F55\u4E2D...")):(i(),p("span",U,"\u767B \u5F55"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"]),_("div",j,[_("span",null,"Copyright \xA9 2022 - "+V(new Date().getFullYear())+" By \u963F\u51AC",1)])])}}});const G=K(M,[["__scopeId","data-v-2db9891a"]]);export{G as default};
