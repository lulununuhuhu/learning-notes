import{d as z,e as K,N as R,A,v as b,O as P,o as g,c as Q,Q as C,R as $,x as o,i as e,w as n,k as q,z as f,l as M,S as j,J as y,j as B,t as G,K as H,T as J,U as O,E as X,f as Z,g as W,h as Y,G as ee,H as te,X as oe,Z as ae,a1 as ne,a2 as le}from"./index.96097f3e.js";/* empty css                   *//* empty css                        *//* empty css               */import{h as se,i as ie}from"./index.d1b019a5.js";import{a as ue}from"./date.f8742d84.js";const re={class:"app-container"},ce={class:"create-time"},de={style:{"margin-left":"10px"}},ve=z({__name:"visit",setup(pe){const F=K({count:0,showSearch:!0,loading:!1,queryParams:{current:1,size:10},logIdList:[],logList:[]}),{count:d,showSearch:r,loading:p,queryParams:l,logIdList:m,logList:h}=R(F),k=s=>{m.value=s.map(t=>t.id)},w=s=>{let t=[];s==null?t=m.value:t=[s],J("\u786E\u8BA4\u5220\u9664\u5DF2\u9009\u4E2D\u7684\u6570\u636E\u9879?").then(()=>{se(t).then(({data:c})=>{c.flag&&(O(c.msg),u())})}).catch(()=>{})},u=()=>{p.value=!0,ie(l.value).then(({data:s})=>{h.value=s.data.recordList,d.value=s.data.count,p.value=!1})},E=()=>{l.value.current=1,u()};return A(()=>{u()}),(s,t)=>{const c=X,v=Z,_=W,S=Y,D=ee,L=b("right-toolbar"),V=te,i=oe,T=b("clock"),x=ae,I=ne,N=le,U=P;return g(),Q("div",re,[C(e(S,{onSubmit:t[1]||(t[1]=M(()=>{},["prevent"])),model:o(l),inline:!0},{default:n(()=>[e(v,{label:"\u8BBF\u95EE\u9875\u9762"},{default:n(()=>[e(c,{onKeyup:q(E,["enter"]),modelValue:o(l).keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>o(l).keyword=a),style:{width:"200px"},placeholder:"\u8BF7\u8F93\u5165\u8BBF\u95EE\u9875\u9762",clearable:""},null,8,["onKeyup","modelValue"])]),_:1}),e(v,null,{default:n(()=>[e(_,{type:"primary",icon:"Search",onClick:E},{default:n(()=>[f("\u641C\u7D22")]),_:1})]),_:1})]),_:1},8,["model"]),[[$,o(r)]]),e(V,{gutter:10,class:"mb15"},{default:n(()=>[e(D,{span:1.5},{default:n(()=>[e(_,{type:"danger",plain:"",disabled:o(m).length===0,icon:"Delete",onClick:t[2]||(t[2]=a=>w(void 0))},{default:n(()=>[f("\u6279\u91CF\u5220\u9664")]),_:1},8,["disabled"])]),_:1}),e(L,{showSearch:o(r),"onUpdate:showSearch":t[3]||(t[3]=a=>j(r)?r.value=a:null),onQueryTable:u},null,8,["showSearch"])]),_:1}),C((g(),y(I,{border:"",data:o(h),onSelectionChange:k},{default:n(()=>[e(i,{type:"selection",align:"center",width:"55"}),e(i,{prop:"page",label:"\u8BBF\u95EE\u9875\u9762",align:"center",width:"130"}),e(i,{prop:"ipAddress",label:"\u8BBF\u95EEip",align:"center",width:"150"}),e(i,{prop:"ipSource",label:"ip\u6765\u6E90",align:"center",width:"200"}),e(i,{prop:"os",label:"\u64CD\u4F5C\u7CFB\u7EDF",align:"center",width:"180"}),e(i,{prop:"browser",label:"\u6D4F\u89C8\u5668",align:"center"}),e(i,{prop:"createTime",label:"\u8BBF\u95EE\u65F6\u95F4",align:"center",width:"200"},{default:n(a=>[B("div",ce,[e(x,null,{default:n(()=>[e(T)]),_:1}),B("span",de,G(o(ue)(a.row.createTime)),1)])]),_:1}),e(i,{label:"\u64CD\u4F5C",align:"center",width:"150"},{default:n(a=>[e(_,{type:"danger",icon:"Delete",link:"",onClick:me=>w(a.row.id)},{default:n(()=>[f(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[U,o(p)]]),o(d)>0?(g(),y(N,{key:0,total:o(d),page:o(l).current,"onUpdate:page":t[4]||(t[4]=a=>o(l).current=a),limit:o(l).size,"onUpdate:limit":t[5]||(t[5]=a=>o(l).size=a),onPagination:u},null,8,["total","page","limit"])):H("",!0)])}}});export{ve as default};
