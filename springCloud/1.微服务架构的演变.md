## 微服务架构的演变

### 单体架构



![image-20230510151221300](C:/Users/lucheng/AppData/Roaming/Typora/typora-user-images/image-20230510151221300.png)

### 分布式架构

![image-20230510151419328](C:/Users/lucheng/AppData/Roaming/Typora/typora-user-images/image-20230510151419328.png)

### 微服务

> 一种经过良好架构设计的**分布式架构的设计方案**

一个微服务方案具有以下特征：

1. 单一职责
2. 面向服务
3. 自治
4. 隔离性强

![image-20230510151907705](C:/Users/lucheng/AppData/Roaming/Typora/typora-user-images/image-20230510151907705.png)

## 微服务的技术对比

目前主流的微服务技术栈有三种，分别是`Dubbo`、`SpringCloud`、`SpringCloudAliBaBa`。它们分别服务网关、注册中心、配置中心、服务远程调用、服务监控和保护方面各有不同和优劣。

## SpringCloud

### 入门案例

### Eureka注册中心

#### 基本架构

![image-20230510155447256](C:/Users/lucheng/AppData/Roaming/Typora/typora-user-images/image-20230510155447256.png)

其中Eureka在不同服务调用接口的过程中起到的作用就是：

1. eureka-server：作为注册中心，进行记录不同服务的端口信息、进行服务心跳监控，记录服务的健康状态
2. eureka-client：
   * Provider：服务提供者（案例中的user-service）
     * 注册
     * 
   * consumer：服务消费者（案例中的order-service）
     * 更具
     * 

### 基本使用

#### 搭建EurekaServer

1. 引入euraka-server依赖
2. 添加`@EnableEurekaServer`注解
3. 在application.yml中配置eureka地址

#### 服务注册

1. 引入eureka-client依赖
2. 在application.yml中配置euraka地址

#### 服务发现

1. 引入eureka-client依赖
2. 在application.yml中配置eureka地址
3. 给RestTemplate添加@LoadBalanced注解
4. 用服务提供者的服务名称远程调用

